<template name="artifact">
  <div class="three wide computer only column">
    {{> toc}}
  </div>
  <div class="ten wide column">
    <h1><a href="{{pathFor route='artifact.edit' _projectId=projectId}}"><i class="icon edit"></i></a>{{name}} <div class="ui {{#if hasReferences}}{{else}}active{{/if}} mini inline loader"></div></h1>
    <div class="ui divider"></div>

    <div id="artifactDiv" class="ui fluid basic segment" style="padding:0px;">
      {{> infobox}}
      {{#each references}}
        {{{this}}}
      {{/each}}
    </div>
  </div>
  <div class="three wide column">
  </div>
</template>

<template name="editArtifact">
  <div class="ten wide column">
    {{#autoForm collection="Artifacts" doc=this id="editArtifactForm" type="update"}}
      {{> afQuickField name='name'}}
      {{> afQuickField name='tokens'}}
      {{> afQuickField name='image'}}
      <button type="submit" class="ui blue button">Update</button>
      {{> quickRemoveButton collection="Artifacts" _id=this._id class="ui red button" beforeRemove=beforeRemove}}
    {{/autoForm}}
  </div>
</template>

<template name="addArtifact">
  <div class="ten wide column">
    {{#autoForm collection="Artifacts" id="addArtifactForm" type="insert"}}
      {{> afQuickField name='name'}}
      {{> afQuickField name='tokens'}}
      {{> afQuickField name='image'}}
      <button type="submit" class="ui green button">Add</button>
    {{/autoForm}}
  </div>
</template>
